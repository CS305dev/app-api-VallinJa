generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Student {
  id          Int        @id @default(autoincrement())
  firstName   String?
  middleName  String?
  lastName    String?
  email       String?     @unique
  phoneNumber String?
  program     String?
  year        Int     
  grades      Grades[]
  schedules   Schedule[]
}

model Courses {
  id           Int         @id @default(autoincrement())
  subjectName  String      @db.VarChar(100)
  subjectCode  String      @db.VarChar(20)
  instructorId Int
  units        Int
  instructor   Instructors @relation(fields: [instructorId], references: [id])
  grades       Grades[]
  schedules    Schedule[]
}

model Instructors {
  id          Int       @id @default(autoincrement())
  firstName   String    @db.VarChar(50)
  middleName  String    @db.VarChar(50)
  lastName    String    @db.VarChar(50)
  email       String    @unique
  phoneNumber String    @db.VarChar(15)
  courses     Courses[]
}

model Schedule {
  id         Int      @id @default(autoincrement())
  studentId  Int
  courseId   Int
  semester   String   @db.VarChar(15)
  day        String   @db.VarChar(15)
  startTime  DateTime
  endTime    DateTime
  roomNumber String   @db.VarChar(10)
  course     Courses  @relation(fields: [courseId], references: [id])
  student    Student  @relation(fields: [studentId], references: [id])
}

model Grades {
  id        Int     @id @default(autoincrement())
  studentId Int
  courseId  Int
  grade     Decimal @db.Decimal(3, 2)
  semester  String  @db.VarChar(20)
  course    Courses @relation(fields: [courseId], references: [id])
  student   Student @relation(fields: [studentId], references: [id])
}
